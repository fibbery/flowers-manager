# 🚀 开始使用 - 花朵管理系统

## ✅ 当前状态

- ✅ **后端服务**：已启动（端口 3000）
- ✅ **数据库**：SQLite 已初始化
- ✅ **查询功能**：已实现并测试通过
- ⏸️ **前端服务**：需要启动

## 📝 启动前端服务

### 方式一：新开终端启动（推荐）

打开一个新的终端窗口，运行：

```bash
cd /Users/fibbery/flowers-manager/frontend
npm run dev
```

看到以下输出表示成功：
```
VITE v5.x.x  ready in xxx ms
➜  Local:   http://localhost:5173/
```

### 方式二：使用启动脚本

如果想重启所有服务：

```bash
# 1. 停止当前后端服务
pkill -f "node server.js"

# 2. 使用启动脚本启动所有服务
cd /Users/fibbery/flowers-manager
./start.sh
```

## 🌐 访问应用

启动前端服务后，在浏览器打开：

**http://localhost:5173**

## 🎯 功能使用指南

### 1. 🔍 查询功能（新功能！）

页面顶部有两个查询框：

#### 根据人名查花朵
```
输入框：「输入人名（支持模糊查询）」
示例：输入"张"或"蒋"
结果：显示所有匹配人员及其花朵
```

#### 根据花名查拥有者
```
输入框：「输入花名（支持模糊查询）」
示例：输入"玫瑰"或"菊"
结果：显示所有拥有该花朵的人员
```

**小技巧**：
- ⌨️ 输入后按回车键快速查询
- 🔄 点击"清除结果"按钮清空查询
- 📊 查询结果会显示匹配数量

### 2. ➕ 添加新人员

1. 在"添加新人员"表单中输入姓名
2. 点击"+ 添加花朵"按钮添加花朵（可添加多个）
3. 输入花朵名称
4. 点击"添加"按钮保存

### 3. ✏️ 编辑人员信息

1. 找到要编辑的人员卡片
2. 点击右上角"编辑"按钮
3. 修改姓名或花朵列表
4. 点击"更新"按钮保存

### 4. 🗑️ 删除人员

1. 找到要删除的人员卡片
2. 点击右上角"删除"按钮
3. 在确认对话框中点击"确定"

### 5. 👀 查看所有数据

向下滚动页面，所有人员数据以卡片形式展示。

## 🎨 界面预览

```
┌─────────────────────────────────────────┐
│      🌸 花朵管理系统                      │
├─────────────────────────────────────────┤
│  🔍 查询功能                              │
│  ┌─────────────┐  ┌──────────────┐     │
│  │根据人名查花朵│  │根据花名查拥有者│     │
│  │ [输入框]    │  │ [输入框]     │     │
│  │ [查询按钮]  │  │ [查询按钮]   │     │
│  └─────────────┘  └──────────────┘     │
│                                         │
│  查询结果区域...                         │
├─────────────────────────────────────────┤
│  添加新人员                              │
│  姓名：[________________]               │
│  花朵：[________________] [删除]        │
│       [+ 添加花朵]                       │
│  [添加] [取消]                           │
├─────────────────────────────────────────┤
│  所有人员列表                            │
│  ┌──────────┐  ┌──────────┐           │
│  │ 张三     │  │ 李四     │           │
│  │ 🌺玫瑰花 │  │ 🌺菊花   │           │
│  │ 🌺百合   │  │ 🌺茉莉花 │           │
│  │[编辑][删除]│ │[编辑][删除]│         │
│  └──────────┘  └──────────┘           │
└─────────────────────────────────────────┘
```

## 🧪 测试查询功能

### 测试步骤

1. **添加测试数据**（如果还没有数据）：
   ```
   人员：张三
   花朵：玫瑰花、百合花
   
   人员：李四
   花朵：菊花、玫瑰花
   ```

2. **测试人名查询**：
   - 在"根据人名查花朵"输入框输入：`张`
   - 点击查询按钮
   - 应该看到：张三的花朵列表（玫瑰花、百合花）

3. **测试花名查询**：
   - 在"根据花名查拥有者"输入框输入：`玫瑰`
   - 点击查询按钮
   - 应该看到：拥有玫瑰花的人（张三、李四）

4. **测试模糊查询**：
   - 输入部分名称即可匹配
   - 例如："张"可以匹配"张三"、"张丽"等

## 🔍 API 测试

在终端中测试 API：

```bash
# 测试根据人名查询
curl "http://localhost:3000/api/search/person?name=张"

# 测试根据花名查询
curl "http://localhost:3000/api/search/flower?name=玫瑰"

# 查看所有数据
curl "http://localhost:3000/api/persons"
```

## ❓ 常见问题

### Q: 前端打不开？

**A**: 确保前端服务已启动：
```bash
cd /Users/fibbery/flowers-manager/frontend
npm run dev
```

### Q: 查询没有结果？

**A**: 可能原因：
1. 数据库中没有匹配的数据 → 先添加一些数据
2. 输入的关键词不匹配 → 尝试输入更短的关键词
3. 后端服务未运行 → 检查后端服务状态

### Q: 如何添加中文数据？

**A**: 直接在输入框中输入中文即可，系统完全支持中文。

### Q: 如何清空所有数据？

**A**: 删除数据库文件后重启：
```bash
rm /Users/fibbery/flowers-manager/backend/flowers.db
# 然后重启后端服务
```

## 📚 相关文档

- 📖 [README.md](./README.md) - 完整项目文档
- 🔍 [查询功能说明.md](./查询功能说明.md) - 查询功能详细说明
- 🎉 [功能更新说明.md](./功能更新说明.md) - 最新功能更新
- 🚀 [快速启动指南.md](./快速启动指南.md) - 启动和部署指南

## 🎊 开始体验

现在一切准备就绪！

1. ✅ 后端已启动
2. ⏸️ 启动前端：`cd frontend && npm run dev`
3. 🌐 访问：http://localhost:5173
4. 🎯 开始使用查询功能！

祝你使用愉快！🌸

